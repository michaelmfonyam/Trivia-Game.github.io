<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
    <link rel="stylesheet" href="./assets/css/style.css">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>

    <title>Document</title>
</head>

<body>
    <div>
        <div class="jumbotron jumbotron-fluid">
            
            <div class="container">
                <h1 class="display-4">The Trivia Game</h1>
                <p class="lead">How well do you know yourself?</p>
            </div>
        </div>
        <div class="container begin">
            <h1 class="display-4">
                You  have 30 seconds the questions below. Hit Start When Ready
            </h1>
            <br>
            <button id="startButton" class="btn btn-dark w-100" type="button">Start</button>
        </div>
        <div class="container-fluid game">
            <div id="timeRemaining" class="display-4 text-center text-danger">30</div>
            <br>
            <form id="myForm">
                <div class="question">
                    <h3>What's your favorite color?</h3>
                    <div class="radio">
                        <label>
                            <input type="radio" name="0" value="1"> Green</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="0" value="2"> Red</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="0" value="3"> Yellow</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="0" value="4"> Black</label>
                    </div>
                </div>
                <br>
                <div class="question">
                    <h3>Where will you like to live? </h3>
                    <div class="radio">
                        <label>
                            <input type="radio" name="1" value="1"> China</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="1" value="2"> India</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="1" value="3"> Mexico</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="1" value="4"> Cameroon</label>
                    </div>
                </div>
                <br>
                <div class="question">
                    <h3>What's your favorite car? </h3>
                    <div class="radio">
                        <label>
                            <input type="radio" name="2" value="1"> Mercedees</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="2" value="2"> Lamboghini</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="2" value="3"> Mustang</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="2" value="4"> Tesla</label>
                    </div>
                </div>
                <br>
                <div class="question">
                    <h3>What's your favorite food? </h3>
                    <div class="radio">
                        <label>
                            <input type="radio" name="3" value="1"> Salmon</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="3" value="2"> Bacon</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="3" value="3"> Steak</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="3" value="4"> Salad</label>
                    </div>
                </div>
                <br>
                <div class="question">
                    <h3>What's your dream job? </h3>
                    <div class="radio">
                        <label>
                            <input type="radio" name="4" value="1"> Developer</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="4" value="2"> DBA</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="4" value="3"> Realtor</label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="4" value="4"> Accountant</label>
                    </div>
                </div>
                <br>
               
               
                <br>
                <br>
                <button id="submitButton" class="btn btn-outline-dark w-100" type="submit">Done</button>
            </form>
        </div>

        <div class="container results">
            <h1 class="display-3">Game Over</h1>
            Correct:
            <p id="correct" class="result"></p>
            <br> Incorrect:
            <p id="incorrect" class="result"></p>
            <br> Unanswered:
            <p id="unanswered" class="result"></p>
            <br>
            <button id="restartButton" class="btn btn-dark w-100">Restart</button>
        </div>
    </div>


    <script src="./assets/js/app.js"></script>
    <script>
        var questionCount;
        var correct = 0;
        var incorrect = 0;
        var answered = 0;
        var unanswered = 0;
        var answers = ["1", "3", "2", "2", "4", "1", "1", "3"];
        var guesses = ["0", "0", "0", "0", "0", "0", "0", "0"];
        var gameTimer;
        var time = 30;

        $(document).ready(function () {
            questionCount = answers.length;
            $(".results").hide();
            $(".game").hide();

            $("#startButton").on("click", function () {
                $(".begin").hide();
                $(".game").show();
                loop();
            });

            $("input[type='radio']").on("change", function () {
                var questionIndex = this.name;
                var selectedAnswer = this.value;
                var correctAnswer = answers[questionIndex];
                guesses.splice(questionIndex, 1, selectedAnswer);
            });

            $("#submitButton").on("click", function (e) {
                e.preventDefault();
                endGame();
            });

            $("#restartButton").on("click", function (){
                window.location.reload();
            });
        });

        function loop() {
            $("#timeRemaining").text(time + " seconds");
            gameTimer = setTimeout(function () {
                time -= 1;               
                if (time === 0) {
                    endGame();
                } else {
                    loop();
                }
            }, 1000);
        }

        function endGame() {
            for (let i = 0; i < answers.length; i++) {
                const answer = answers[i];
                const guess = guesses[i];
                if (guess != "0") answered += 1;
                if (guess == answer) correct += 1;
            }

            $(".game").hide();
            $(".results").show();
            $("#correct").text(correct);
            $("#incorrect").text(questionCount - correct);
            $("#unanswered").text(questionCount - answered);
        }
    </script>
</body>

</html>